<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Archinime</title>
  
  <link rel="icon" href="Logo_Archinime.avif" type="image/png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#8c52ff">
  
  <link rel="preload" as="image" href="videoframe.jpg">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles-index.css">
</head>
<body>

  <video id="bg-video" poster="galaxia-morado1.avif" autoplay muted loop playsinline preload="metadata">
    <source src="galaxia.mp4" type="video/mp4">
    Tu navegador no soporta v√≠deo.
</video>
  <div id="overlay" aria-hidden="true"></div>

  <audio id="bg-music" autoplay></audio>

  <header>
    <h1>
      <img id="logo" src="Logo_Archinime.avif" alt="Logo Archinime" onclick="openInNewTab('https://archinime.github.io/-Archinime-/Archinime%20CMS%20-%20Creador.html')" title="Ir al Creador CMS">
      Archinime
      <span class="social-inline" id="social-inline" title="S√≠guenos">
        <button id="youtube-btn" type="button" aria-label="Abrir YouTube en nueva pesta√±a" onclick="(function(e){ e.stopPropagation(); openInNewTab('https://www.youtube.com/@Archinime-k2g'); })(event)">
          <img src="youtube.avif" alt="YouTube">
        </button>
      </span>
    </h1>

    <div class="header-actions">
  
        <button id="installBtn" class="nav-icon-btn install-pulse" style="display:none;" title="Instalar App">
            <i class="fas fa-download"></i>
        </button>

        <div class="notif-wrapper">
            <button id="notifBtn" class="nav-icon-btn" onclick="toggleNotifMenu()">
                <i class="fas fa-bell"></i>
                <span id="notifBadge" class="notif-badge" style="display:none"></span>
            </button>
    
            <div id="notifMenu" class="notif-dropdown">
                <div class="notif-header">
                    <span style="width: 100%; text-align: center;">Notificaciones</span>
                </div>
                <div id="notifList" class="notif-list">
                    <div class="empty-notif">Sin novedades por ahora.</div>
                </div>
            </div>
        </div>
    </div>

    <div class="controls" id="controls">
      <select id="genre-select" onchange="filtro()" aria-label="Seleccionar g√©nero">
        <option value="">Todos los g√©neros</option>
        <option>Acci√≥n</option>
        <option>Animaci√≥n</option>
        <option>Aventura</option>
        <option>Ciencia ficci√≥n</option>
        <option>Cocina</option>
        <option>Comedia</option>
        <option>Comedia oscura</option>
        <option>Cosplay</option>
        <option>Cyberpunk</option>
        <option>Deducci√≥n Social</option>
        <option>Deportivo</option>
        <option>Divulgaci√≥n Cient√≠fica</option>
        <option>Drama</option>
        <option>Ecchi</option>
        <option>Espionaje</option>
        <option>Escolar</option>
        <option>Fantas√≠a</option>
        <option>Fantas√≠a oscura</option>
        <option>Familiar</option>
        <option>Gag</option>
        <option>Gore</option>
        <option>Harem</option>
        <option>Hentai</option>
        <option>Hist√≥rico</option>
        <option>Horror</option>
        <option>Incesto</option>
        <option>Infantil</option>
        <option>Isekai</option>
        <option>Isekai Inverso</option>
        <option>Kaiju</option>
        <option>Mah≈ç Sh≈çjo</option>
        <option>Mecha</option>
        <option>Militar</option>
        <option>Mitolog√≠a</option>
        <option>Misterio</option>
        <option>Musical</option>
        <option>Nekketsu</option>
        <option>Parodia</option>
        <option>Policial</option>
        <option>Post-apocal√≠ptico</option>
        <option>Psicol√≥gico</option>
        <option>Reverse Harem</option>
        <option>Romance</option>
        <option>RPG</option>
        <option>Slice of Life</option>
        <option>Sobrenatural</option>
        <option>Steampunk</option>
        <option>Superh√©roes</option>
        <option>Survival</option>
        <option>Survival Game</option>
        <option>Suspenso</option>
        <option>Tent√°culos</option>
        <option>Terror</option>
        <option>Terror psicol√≥gico</option>
        <option>Thriller</option>
        <option>Thriller psicol√≥gico</option>
        <option>Tokusatsu</option>
        <option>Tragedia</option>
        <option>Yaoi</option>
        <option>Yuri</option>
      </select>

      <select id="demographic-select" onchange="filtro()" aria-label="Seleccionar demograf√≠a">
        <option value="">Todas las demograf√≠as</option>
        <option>Josei</option>
        <option>Kodomo</option>
        <option>Seijin</option>
        <option>Seinen</option>
        <option>Sh≈çjo</option>
        <option>Sh≈çnen</option>
      </select>

      <select id="rating-select" onchange="filtro()" aria-label="Seleccionar valoraci√≥n">
        <option value="">‚≠ê Todas</option>
        <option value="excellent">‚≠ê Excelente (4.8+)</option>
        <option value="good">‚≠ê Buena (4.6+)</option>
        <option value="regular">‚≠ê Regular (&lt;4.5)</option>
      </select>

      <input id="search" placeholder="üîç Buscar anime‚Ä¶" oninput="debouncedFiltro()" aria-label="Buscar anime">
    </div>
  </header>

  <main class="container">
    <div class="grid" id="grid"></div>
  </main>

  <div class="stage" aria-hidden="true">
    <div id="fgContainer" aria-label="V√≠deo frontal">
      <canvas id="fgCanvas"></canvas>
      <video id="fgVideo" muted loop playsinline></video>
    </div>

    <div class="play-overlay" id="playOverlay" style="display:none;">
      <button class="play-btn" id="playBtn">Pulsar para iniciar</button>
    </div>
  </div>

  <div id="decorations" aria-hidden="true">
    <svg id="star-template" class="shooting-star decor-hidden-mobile" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display:none;" aria-hidden="true">
      <g>
        <circle cx="4" cy="4" r="4" fill="#fff9e0" opacity="0.98"></circle>
        <rect class="shooting-tail" x="8" y="3" width="160" height="4"></rect>
      </g>
    </svg>
  </div>

  <div id="iosInstallModal" class="ios-modal">
      <div class="ios-content">
          <span class="ios-close" onclick="closeIosModal()">&times;</span>
          <p>Para instalar <strong>Archinime</strong> en tu iPhone/iPad:</p>
          <p>1. Pulsa el bot√≥n <strong>Compartir</strong> <i class="fas fa-share-square"></i></p>
          <p>2. Selecciona <strong>"Agregar a Inicio"</strong> <i class="far fa-plus-square"></i></p>
      </div>
  </div>

<script>
  var version = new Date().getTime();
  document.write('<script src="index-data.js?v=' + version + '"><\/script>');
</script>

<script src="animaciones.js"></script>
<script src="musica_fondo.js"></script>
<script src="notification-system.js"></script>
<script src="script-index.js"></script>
      // Registrar Service Worker
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', () => {
              navigator.serviceWorker.register('sw.js')
                  .then(registration => console.log('SW registrado: ', registration.scope))
                  .catch(err => console.log('SW fallo: ', err));
          });
      }
  </script>

</body>
</html>